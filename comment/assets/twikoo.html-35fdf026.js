import{_ as s,W as a,X as r,$ as e,a0 as n,Y as t,a2 as c,a1 as l,E as i}from"./framework-ecf98296.js";const p={},d={href:"https://curl.qcloud.com/KnnJtUom",target:"_blank",rel:"noopener noreferrer"},u=l('<h2 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手" aria-hidden="true">#</a> 快速上手</h2><p>部署共有四种方式。</p><table><thead><tr><th>部署方式</th><th>描述</th></tr></thead><tbody><tr><td><a href="#%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2">一键部署</a></td><td>[不建议] 虽然方便，但是仅支持按量计费环境——也就是说，<strong>一键部署的环境，当免费资源用尽后，将会产生费用</strong>。且按量计费环境无法切换为包年包月环境。免费额度数据库读操作数只有 500 次 / 天，<strong>无法支撑 Twikoo 的运行需求</strong>。</td></tr><tr><td><a href="#%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2">手动部署</a></td><td>[建议] 手动部署到腾讯云云开发环境，在中国大陆访问速度较快。由于基础版 1 已从 0 元涨价至 6.9 元 / 月，需要付费购买环境才能部署。</td></tr><tr><td><a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%83%A8%E7%BD%B2">命令行部署</a></td><td>[不建议] 仅针对有 Node.js 经验的开发者。</td></tr><tr><td><a href="#vercel-%E9%83%A8%E7%BD%B2">Vercel 部署</a></td><td>[建议] 适用于想要免费部署的用户，在中国大陆访问速度较慢。</td></tr></tbody></table><h3 id="一键部署" tabindex="-1"><a class="header-anchor" href="#一键部署" aria-hidden="true">#</a> 一键部署</h3>',4),h=e("p",null,"点击以下按钮将 Twikoo 一键部署到云开发",-1),_={href:"https://console.cloud.tencent.com/tcb/env/index?action=CreateAndDeployCloudBaseProject&appUrl=https%3A%2F%2Fgithub.com%2Fimaegoo%2Ftwikoo&branch=dev",target:"_blank",rel:"noopener noreferrer"},g=e("img",{src:"https://main.qcloudimg.com/raw/67f5a389f1ac6f3b4d04c7256438e44f.svg",alt:"部署到云开发"},null,-1),k={href:"https://console.cloud.tencent.com/tcb/env/login",target:"_blank",rel:"noopener noreferrer"},f={href:"https://console.cloud.tencent.com/tcb/env/safety",target:"_blank",rel:"noopener noreferrer"},b=e("h3",{id:"手动部署",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#手动部署","aria-hidden":"true"},"#"),n(" 手动部署")],-1),m=e("p",null,"如果你打算部署到一个现有的云开发环境，请直接从第 3 步开始。",-1),v={href:"https://curl.qcloud.com/KnnJtUom",target:"_blank",rel:"noopener noreferrer"},w=l('<div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>推荐创建上海环境。如选择广州环境，需要在 <code>twikoo.init()</code> 时额外指定环境 <code>region: &quot;ap-guangzhou&quot;</code></li><li>环境名称自由填写</li><li>推荐选择计费方式<code>包年包月</code>，套餐版本<code>基础版 1</code>，超出免费额度不会收费</li><li>如果提示选择“应用模板”，请选择“空模板”</li></ul></div>',1),B={href:"https://console.cloud.tencent.com/tcb/",target:"_blank",rel:"noopener noreferrer"},E=e("br",null,null,-1),x={href:"https://console.cloud.tencent.com/tcb/env/login",target:"_blank",rel:"noopener noreferrer"},q={href:"https://console.cloud.tencent.com/tcb/env/safety",target:"_blank",rel:"noopener noreferrer"},y={href:"https://console.cloud.tencent.com/tcb/scf/index",target:"_blank",rel:"noopener noreferrer"},D=l(`<li><p>函数名称请填写 <code>twikoo</code>，创建方式请选择 <code>空白函数</code>，运行环境请选择 <code>Nodejs 10.15</code>，函数内存请选择 <code>128MB</code>，点击“下一步”</p></li><li><p>清空输入框中的示例代码，复制以下代码、粘贴到“函数代码”输入框中，点击“确定”</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span>main <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;twikoo-func&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>main<span class="token punctuation">;</span>
</code></pre></div></li><li><p>创建完成后，点击“twikoo”进入云函数详情页，进入“函数代码”标签，点击“文件 - 新建文件”，输入 <code>package.json</code>，回车</p></li><li><p>复制以下代码、粘贴到代码框中，点击“保存并安装依赖”</p><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;twikoo-func&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.5.0&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div></li>`,4),V=e("h3",{id:"命令行部署",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#命令行部署","aria-hidden":"true"},"#"),n(" 命令行部署")],-1),j={class:"hint-container warning"},A=e("p",{class:"hint-container-title"},"注意",-1),N={href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"},C=e("li",null,"请将命令、代码中“你的环境 ID”替换为你自己的环境 ID",-1),I=e("li",null,"第 7 步会弹出浏览器要求授权，需在有图形界面的系统下进行",-1),T=e("p",null,"如果你打算部署到一个现有的云开发环境，请直接从第 3 步开始。",-1),F={href:"https://curl.qcloud.com/KnnJtUom",target:"_blank",rel:"noopener noreferrer"},U={href:"https://console.cloud.tencent.com/tcb/",target:"_blank",rel:"noopener noreferrer"},W={href:"https://console.cloud.tencent.com/tcb/env/login",target:"_blank",rel:"noopener noreferrer"},M={href:"https://console.cloud.tencent.com/tcb/env/safety",target:"_blank",rel:"noopener noreferrer"},O=l(`<p>克隆本仓库</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/imaegoo/twikoo.git <span class="token comment"># 或 git clone https://e.coding.net/imaegoo/twikoo/twikoo.git</span>
<span class="token builtin class-name">cd</span> twikoo
</code></pre></div>`,2),S={href:"https://github.com/imaegoo/twikoo/releases",target:"_blank",rel:"noopener noreferrer"},G={href:"https://imaegoo.coding.net/public/twikoo/twikoo/git",target:"_blank",rel:"noopener noreferrer"},J=l(`<li><p>安装依赖项</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">yarn</span> <span class="token comment"># 如 yarn 已安装，可以跳过此步</span>
<span class="token function">yarn</span> <span class="token function">install</span>
</code></pre></div></li><li><p>授权云开发环境 (此命令会弹出浏览器要求授权，需在有图形界面的系统下进行)</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> run login
</code></pre></div></li><li><p>自动部署</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> deploy <span class="token parameter variable">-e</span> 你的环境id
</code></pre></div></li>`,3),K=e("h3",{id:"vercel-部署",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#vercel-部署","aria-hidden":"true"},"#"),n(" Vercel 部署")],-1),H={href:"https://www.bilibili.com/video/BV1Fh411e7ZH",target:"_blank",rel:"noopener noreferrer"},L={href:"https://www.mongodb.com/cloud/atlas/register",target:"_blank",rel:"noopener noreferrer"},P=e("li",null,[e("p",null,[n("创建免费 MongoDB 数据库，区域推荐选择 "),e("code",null,"AWS / N. Virginia (us-east-1)")])],-1),R={href:"https://vercel.com/support/articles/how-to-allowlist-deployment-ip-address",target:"_blank",rel:"noopener noreferrer"},z=e("code",null,"<password>",-1),X={href:"https://vercel.com/signup",target:"_blank",rel:"noopener noreferrer"},Y=e("p",null,"点击以下按钮将 Twikoo 一键部署到 Vercel",-1),Z={href:"https://vercel.com/import/project?template=https://github.com/imaegoo/twikoo/tree/dev/src/vercel-min",target:"_blank",rel:"noopener noreferrer"},$=e("img",{src:"https://vercel.com/button",alt:"Vercel"},null,-1),Q=e("li",null,[e("p",null,[n("进入 Settings - Environment Variables，添加环境变量 "),e("code",null,"MONGODB_URI"),n("，值为第 3 步的数据库连接字符串")])],-1),ee=e("li",null,[e("p",null,"进入 Overview，点击 Domains 下方的链接，如果环境配置正确，可以看到 “Twikoo 云函数运行正常” 的提示")],-1),ne=e("li",null,[e("p",null,[n("Vercel Domains (包含 "),e("code",null,"https://"),n(" 前缀，例如 "),e("code",null,"https://xxx.vercel.app"),n(") 即为你的环境 ID")])],-1);function oe(te,le){const o=i("ExternalLinkIcon");return a(),r("div",null,[e("p",null,[n("一个简洁、安全、免费的静态网站评论系统，基于 "),e("a",d,[n("腾讯云开发"),t(o)]),n("。")]),c(" more "),u,e("ol",null,[e("li",null,[h,e("p",null,[e("a",_,[g,t(o)])])]),e("li",null,[e("p",null,[n("进入"),e("a",k,[n("环境 - 登录授权"),t(o)]),n("，启用“匿名登录”")])]),e("li",null,[e("p",null,[n("进入"),e("a",f,[n("环境 - 安全配置"),t(o)]),n("，将网站域名添加到“WEB 安全域名”")])])]),b,m,e("ol",null,[e("li",null,[e("p",null,[n("进入"),e("a",v,[n("云开发 CloudBase"),t(o)]),n("活动页面，滚动到“新用户专享”部分，选择适合的套餐，点击“立即购买”，按提示创建好环境。")]),w]),e("li",null,[e("p",null,[n("进入"),e("a",B,[n("云开发控制台"),t(o)]),E])]),e("li",null,[e("p",null,[n("进入"),e("a",x,[n("环境-登录授权"),t(o)]),n("，启用“匿名登录”")])]),e("li",null,[e("p",null,[n("进入"),e("a",q,[n("环境-安全配置"),t(o)]),n("，将网站域名添加到“WEB 安全域名”")])]),e("li",null,[e("p",null,[n("进入"),e("a",y,[n("环境-云函数"),t(o)]),n("，点击“新建云函数”")])]),D]),V,e("div",j,[A,e("ul",null,[e("li",null,[n("请确保你已经安装了 "),e("a",N,[n("Node.js"),t(o)])]),C,I])]),T,e("ol",null,[e("li",null,[e("p",null,[n("进入"),e("a",F,[n("云开发 CloudBase"),t(o)]),n("活动页面，滚动到“新用户专享”部分，选择适合的套餐 (一般 0 元套餐即可) ，点击“立即购买”，按提示创建好环境。")])]),e("li",null,[e("p",null,[n("进入"),e("a",U,[n("云开发控制台"),t(o)])])]),e("li",null,[e("p",null,[n("进入"),e("a",W,[n("环境 - 登录授权"),t(o)]),n("，启用“匿名登录”")])]),e("li",null,[e("p",null,[n("进入"),e("a",M,[n("环境 - 安全配置"),t(o)]),n("，将网站域名添加到“WEB 安全域名”")])]),e("li",null,[O,e("blockquote",null,[e("p",null,[n("如果你没有安装 Git，也可以从 "),e("a",S,[n("Release"),t(o)]),n(" 页面下载最新的 Source code")]),e("p",null,[n("如果你所在的地区访问 GitHub 速度慢，也可以尝试另一个仓库地址: "),e("a",G,[n("https://imaegoo.coding.net/public/twikoo/twikoo/git"),t(o)])])])]),J]),K,e("p",null,[e("a",H,[n("查看视频教程"),t(o)])]),e("ol",null,[e("li",null,[e("p",null,[n("申请 "),e("a",L,[n("MongoDB"),t(o)]),n(" 账号")])]),P,e("li",null,[e("p",null,[n("在 Clusters 页面点击 CONNECT，按步骤设置允许所有 IP 地址的连接 ("),e("a",R,[n("为什么？"),t(o)]),n(") ，创建数据库用户，并记录数据库连接字符串，请将连接字符串中的 "),z,n(" 修改为数据库密码")])]),e("li",null,[e("p",null,[n("申请 "),e("a",X,[n("Vercel"),t(o)]),n(" 账号")])]),e("li",null,[Y,e("p",null,[e("a",Z,[$,t(o)])])]),Q,ee,ne])])}const ae=s(p,[["render",oe],["__file","twikoo.html.vue"]]);export{ae as default};
