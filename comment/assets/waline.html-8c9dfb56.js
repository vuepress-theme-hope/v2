import{_ as d,a as r,b as i,c as s,d as p,e as _,f as h}from"./vercel-9-668a4455.js";import{_ as u,W as m,X as g,a2 as f,$ as e,a0 as o,Y as t,Z as b,a1 as c,E as n}from"./framework-ecf98296.js";const v="/comment/assets/leancloud-1-5c0959b7.png",y="/comment/assets/leancloud-2-d1fa2471.png",E="/comment/assets/leancloud-3-a5e69497.png",x="/comment/assets/image/vercel-1.png",A={},L=e("p",null,"欢迎使用 Waline，只需几个步骤，你就可以在你的网站中启用 Waline 提供评论与浏览量服务。",-1),V=e("h2",{id:"leancloud-设置-数据库",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#leancloud-设置-数据库","aria-hidden":"true"},"#"),o(" LeanCloud 设置 (数据库)")],-1),N={href:"https://console.leancloud.app/login",target:"_blank",rel:"noopener noreferrer"},k={href:"https://console.leancloud.app/register",target:"_blank",rel:"noopener noreferrer"},C=e("code",null,"LeanCloud 国际版",-1),P={href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer"},I={href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer"},S=e("p",null,[e("img",{src:v,alt:"创建应用"})],-1),w=c('<li><p>进入应用，选择左下角的 <code>设置</code> &gt; <code>应用 Key</code>。你可以看到你的 <code>APP ID</code>,<code>APP Key</code> 和 <code>Master Key</code>。请记录它们，以便后续使用。</p><p><img src="'+y+'" alt="ID 和 Key"></p></li>',1),R={class:"hint-container warning"},D=e("p",{class:"hint-container-title"},"国内版需要完成备案接入",-1),K={href:"https://leancloud.cn",target:"_blank",rel:"noopener noreferrer"},W={href:"https://leancloud.app",target:"_blank",rel:"noopener noreferrer"},F=e("strong",null,"已备案",-1),M=c('<ul><li>登录国内版并进入需要使用的应用</li><li>选择 <code>设置</code> &gt; <code>域名绑定</code> &gt; <code>API 访问域名</code> &gt; <code>绑定新域名</code> &gt; 输入域名 &gt; <code>确定</code>。</li><li>按照页面上的提示按要求在 DNS 上完成 CNAME 解析。</li><li>购买独立 IP 并提交工单完成备案接入。(独立 IP 目前价格为 ￥ 50/个/月)</li></ul><p><img src="'+E+'" alt="域名设置"></p>',2),T=e("h2",{id:"vercel-部署-服务端",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#vercel-部署-服务端","aria-hidden":"true"},"#"),o(" Vercel 部署 (服务端)")],-1),Y={href:"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fwalinejs%2Fwaline%2Ftree%2Fmain%2Fexample",target:"_blank",rel:"noopener noreferrer"},B=e("img",{src:"https://vercel.com/button",alt:"Vercel"},null,-1),U=c('<ol><li><p>点击上方按钮，跳转至 Vercel 进行 Server 端部署。</p><div class="hint-container note"><p class="hint-container-title">注</p><p>如果你未登录的话，Vercel 会让你注册或登录，请使用 GitHub 账户进行快捷登录。</p></div></li><li><p>输入一个你喜欢的 Vercel 项目名称并点击 <code>Create</code> 继续:</p><p><img src="'+x+'" alt="创建项目"></p></li><li><p>此时 Vercel 会基于 Waline 模板帮助你新建并初始化仓库，仓库名为你之前输入的项目名。</p><p><img src="'+d+'" alt="deploy"></p><p>一两分钟后，满屏的烟花会庆祝你部署成功。此时点击 <code>Go to Dashboard</code> 可以跳转到应用的控制台。</p><p><img src="'+r+'" alt="deploy"></p></li><li><p>点击顶部的 <code>Settings</code> - <code>Environment Variables</code> 进入环境变量配置页，并配置三个环境变量 <code>LEAN_ID</code>, <code>LEAN_KEY</code> 和 <code>LEAN_MASTER_KEY</code> 。它们的值分别对应上一步在 LeanCloud 中获得的 <code>APP ID</code>, <code>APP KEY</code>, <code>Master Key</code>。</p><p><img src="'+i+'" alt="设置环境变量"></p><div class="hint-container note"><p class="hint-container-title">注</p><p>如果你使用 LeanCloud 国内版，请额外配置 <code>LEAN_SERVER</code> 环境变量，值为你绑定好的域名。</p></div></li><li><p>环境变量配置完成之后点击顶部的 <code>Deployments</code> 点击顶部最新的一次部署右侧的 <code>Redeploy</code> 按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。</p><p><img src="'+s+'" alt="redeploy"></p></li><li><p>此时会跳转到 <code>Overview</code> 界面开始部署，等待片刻后 <code>STATUS</code> 会变成 <code>Ready</code>。此时请点击 <code>Visit</code> ，即可跳转到部署好的网站地址，此地址即为你的服务端地址。</p><p><img src="'+p+'" alt="redeploy success"></p></li></ol><h2 id="绑定域名-可选" tabindex="-1"><a class="header-anchor" href="#绑定域名-可选" aria-hidden="true">#</a> 绑定域名 (可选)</h2><ol><li><p>点击顶部的 <code>Settings</code> - <code>Domains</code> 进入域名配置页</p></li><li><p>输入需要绑定的域名并点击 <code>Add</code></p><p><img src="'+_+'" alt="Add domain"></p></li><li><p>在域名服务器商处添加新的 <code>CNAME</code> 解析记录</p><table><thead><tr><th>Type</th><th>Name</th><th>Value</th></tr></thead><tbody><tr><td>CNAME</td><td>example</td><td>cname.vercel-dns.com</td></tr></tbody></table></li><li><p>等待生效，你可以通过自己的域名来访问了🎉</p><ul><li>评论系统：example.your-domain.com</li><li>评论管理：example.your-domain.com/ui</li></ul><p><img src="'+h+'" alt="success"></p></li></ol><h2 id="客户端" tabindex="-1"><a class="header-anchor" href="#客户端" aria-hidden="true">#</a> 客户端</h2><h3 id="使用插件" tabindex="-1"><a class="header-anchor" href="#使用插件" aria-hidden="true">#</a> 使用插件</h3><p>在插件选项中设置 <code>provider: &quot;Waline&quot;</code>，同时设置服务端地址 <code>serverURL</code> 为上一步获取到的值。</p><p>此时，将 <code>&lt;CommentService&gt;</code> 组件放置在你网站中合适的位置 (通常是页面的底部)，即可使用 Waline 评论功能。</p>',7),q={class:"hint-container tip"},G=e("p",{class:"hint-container-title"},"提示",-1),j=e("p",null,[o("你也可以传入其他 Waline 支持的选项 (除了 "),e("code",null,"el"),o(")。")],-1),z=e("h2",{id:"评论管理-管理端",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#评论管理-管理端","aria-hidden":"true"},"#"),o(" 评论管理 (管理端)")],-1),H=e("ol",null,[e("li",null,[o("部署完成后，请访问 "),e("code",null,"<serverURL>/ui/register"),o(" 进行注册。首个注册的人会被设定成管理员。")]),e("li",null,"管理员登陆后，即可看到评论管理界面。在这里可以修改、标记或删除评论。"),e("li",null,"用户也可通过评论框注册账号，登陆后会跳转到自己的档案页。")],-1);function O(X,Z){const l=n("ExternalLinkIcon"),a=n("RouterLink");return m(),g("div",null,[L,f(" more "),V,e("ol",null,[e("li",null,[e("p",null,[e("a",N,[o("登录"),t(l)]),o(" 或 "),e("a",k,[o("注册"),t(l)]),o(),C,o(" 并进入 "),e("a",P,[o("控制台"),t(l)])])]),e("li",null,[e("p",null,[o("点击左上角 "),e("a",I,[o("创建应用"),t(l)]),o(" 并起一个你喜欢的名字 (请选择免费的开发版):")]),S]),w]),e("div",R,[D,e("p",null,[o("如果你正在使用 Leancloud 国内版 ("),e("a",K,[o("leancloud.cn"),t(l)]),o(")，我们推荐你切换到国际版 ("),e("a",W,[o("leancloud.app"),t(l)]),o(")。否则，你需要为应用额外绑定"),F,o("的域名，同时购买独立 IP 并完成备案接入:")]),M]),T,e("p",null,[e("a",Y,[B,t(l)])]),U,e("div",q,[G,j,e("p",null,[o("详情请见 "),t(a,{to:"/zh/config/waline.html"},{default:b(()=>[o("Waline 配置")]),_:1})])]),z,H])}const Q=u(A,[["render",O],["__file","waline.html.vue"]]);export{Q as default};
